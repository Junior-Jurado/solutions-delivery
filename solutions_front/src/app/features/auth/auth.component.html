<div class="auth-container">
  <div class="auth-wrapper">
    <!-- Header -->
    <div class="auth-header">
      <div class="logo-container">
        <div class="logo-circle">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
            <polyline points="3.29 7 12 12 20.71 7"></polyline>
            <line x1="12" y1="22" x2="12" y2="12"></line>
          </svg>
        </div>
      </div>
      <h1>EnvíoExpress</h1>
      <p>Tu plataforma de envíos confiable</p>
    </div>

    <!-- Tabs -->
    <div class="tabs-container">


      <!-- User Tab Content -->
      <div class="tab-content" *ngIf="userType === 'user'">
        <div class="card">
          <div class="card-header">
            <h2>
              {{ authTab === 'login' ? 'Iniciar Sesión' : 
                 authTab === 'register' ? 'Crear Cuenta' : 
                 'Confirmar Correo' }}
            </h2>
            <p>
              {{ authTab === 'login' 
                ? 'Accede para rastrear tus envíos y gestionar tus paquetes'
                : authTab === 'register'
                ? 'Regístrate como cliente para comenzar a enviar paquetes'
                : 'Ingresa el código que enviamos a tu correo electrónico'
              }}
            </p>
          </div>
          <div class="card-content">
            <!-- Login Form -->
            <form *ngIf="authTab === 'login'" (ngSubmit)="handleLogin($event)" class="form">
              <div class="form-group">
                <label>Correo electrónico</label>
                <input type="email" [(ngModel)]="email" name="email" required />
              </div>

              <div class="form-group">
                <label>Contraseña</label>
                <input type="password" [(ngModel)]="password" name="password" required />
              </div>

              <button type="submit" class="btn btn-primary">
                Iniciar sesión
              </button>

              <p class="form-footer">
                ¿No tienes cuenta?
                <button type="button" (click)="switchToRegister()" class="link-button">
                  Regístrate aquí
                </button>
              </p>
            </form>


            <!-- Register Form -->
            <form *ngIf="authTab === 'register'" (ngSubmit)="handleRegister($event)" class="form">
              <div class="form-group">
                <label for="reg-fullname">Nombre completo</label>
                <input
                  id="reg-fullname"
                  type="text"
                  placeholder="Juan Pérez"
                  [(ngModel)]="regFullName"
                  name="regFullName"
                  required
                />
              </div>
              <div class="form-group">
                <label for="reg-email">Correo electrónico</label>
                <input
                  id="reg-email"
                  type="email"
                  placeholder="usuario@ejemplo.com"
                  [(ngModel)]="regEmail"
                  name="regEmail"
                  required
                />
              </div>
              <div class="form-group">
                <label for="reg-phone">Teléfono</label>
                <input
                  id="reg-phone"
                  type="tel"
                  placeholder="+57 300 123 4567"
                  [(ngModel)]="regPhone"
                  name="regPhone"
                />
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="reg-type-doc">Tipo de documento</label>
                  <select 
                    id="reg-type-doc"
                    [(ngModel)]="regTypeDocument"
                    name="regTypeDocument">
                    <option value="" disabled>Seleccionar</option>
                    <option value="CC">Cédula de Ciudadanía</option>
                    <option value="CE">Cédula de Extranjería</option>
                    <option value="NIT">NIT</option>
                    <option value="PP">Pasaporte</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="reg-number-doc">Número de documento</label>
                  <input
                    id="reg-number-doc"
                    type="text"
                    placeholder="123456789"
                    [(ngModel)]="regNumberDocument"
                    name="regNumberDocument"
                  />
                </div>
              </div>
              <div class="form-group">
                <label for="reg-password">Contraseña</label>
                <input
                  id="reg-password"
                  type="password"
                  placeholder="••••••••"
                  [(ngModel)]="regPassword"
                  name="regPassword"
                  required
                />
              </div>
              <button type="submit" class="btn btn-primary">Crear Cuenta</button>
              <p class="form-footer">
                ¿Ya tienes cuenta?
                <button type="button" (click)="switchToLogin()" class="link-button">
                  Inicia sesión
                </button>
              </p>
            </form>

            <!-- Confirm Email Form -->
            <form *ngIf="authTab === 'confirm'" (ngSubmit)="handleConfirmEmail($event)" class="form">
              <div class="confirm-info">
                <div class="info-box">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect width="20" height="16" x="2" y="4" rx="2"></rect>
                    <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                  </svg>
                  <p>Código enviado a: <strong>{{ confirmEmail }}</strong></p>
                </div>
              </div>

              <div class="form-group">
                <label for="confirm-code">Código de confirmación</label>
                <input
                  id="confirm-code"
                  type="text"
                  placeholder="123456"
                  [(ngModel)]="confirmCode"
                  name="confirmCode"
                  required
                  maxlength="6"
                />
              </div>

              <button type="submit" class="btn btn-primary">Confirmar Correo</button>

              <div class="resend-section">
                <p>¿No recibiste el código?</p>
                <button 
                  type="button" 
                  (click)="handleResendCode()" 
                  class="btn-link"
                  [disabled]="isResendingCode">
                  {{ isResendingCode ? 'Reenviando...' : 'Reenviar código' }}
                </button>
              </div>

              <p class="form-footer">
                <button type="button" (click)="switchToLogin()" class="link-button">
                  Volver al inicio de sesión
                </button>
              </p>
            </form>
          </div>
        </div>
      </div>

    </div>

    <!-- Back to Home -->
    <div class="back-link">
      <button class="btn-link" (click)="goHome()">Volver al inicio</button>
    </div>
  </div>
</div>