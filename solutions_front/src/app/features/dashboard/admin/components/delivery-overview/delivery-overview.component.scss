@use "colors" as *;
@use "variables" as *;
@use "mixins" as *;

.overview-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: $spacing-lg;
  margin-bottom: $spacing-lg;

  @include respond-to($breakpoint-lg) {
    grid-template-columns: repeat(2, 1fr);
  }

  @include respond-to($breakpoint-md) {
    grid-template-columns: 1fr;
  }
}

.overview-card {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: $radius-lg;
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  transition: all var(--transition-theme);

  &:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
  }

  .card-header {
    display: flex;
    align-items: center;
    gap: $spacing-sm;
    padding: $spacing-md $spacing-lg;
    border-bottom: 1px solid var(--border-color);
    background: var(--bg-tertiary);
    transition: all var(--transition-theme);

    h3 {
      font-size: $font-base;
      font-weight: $font-semibold;
      color: var(--text-primary);
      margin: 0;
    }
  }

  .card-content {
    padding: $spacing-lg;
    background: var(--card-bg);
    transition: background-color var(--transition-theme);

    .big-number {
      font-size: 2.5rem;
      font-weight: $font-bold;
      margin-bottom: $spacing-sm;
      line-height: 1;

      @include respond-to($breakpoint-xs) {
        font-size: 2rem;
      }
    }

    .sub-text {
      font-size: $font-sm;
      color: var(--text-muted);
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      gap: $spacing-xs;
    }

    .stat-highlight {
      font-weight: $font-medium;

      &.success {
        color: var(--color-verde);
      }

      &.warning {
        color: var(--color-amarillo-dark);
      }
    }

    .stat-separator {
      color: var(--text-muted);
    }

    .progress-bar {
      margin-top: $spacing-md;
      height: 6px;
      background: var(--bg-tertiary);
      border-radius: $radius-full;
      overflow: hidden;

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--color-azul) 0%, var(--color-verde) 100%);
        border-radius: $radius-full;
        transition: width 0.5s ease;
      }
    }
  }

  &.primary {
    border-top: 3px solid var(--color-azul);

    .card-content .big-number {
      color: var(--color-azul);
    }
  }

  &.warning {
    border-top: 3px solid var(--color-amarillo);

    .card-content .big-number {
      color: var(--color-amarillo-dark);
    }
  }

  &.success {
    border-top: 3px solid var(--color-verde);

    .card-content .big-number {
      color: var(--color-verde);
    }
  }
}

// ===== DARK MODE ADJUSTMENTS =====
@media (prefers-color-scheme: dark) {
  .overview-card {
    &:hover {
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    .card-content .progress-bar .progress-fill {
      background: linear-gradient(90deg, #4D9AFF 0%, #33D47F 100%);
    }

    &.primary {
      border-top-color: #4D9AFF;

      .card-content .big-number {
        color: #4D9AFF;
      }
    }

    &.warning {
      border-top-color: #FFE033;

      .card-content .big-number {
        color: #FFE033;
      }
    }

    &.success {
      border-top-color: #33D47F;

      .card-content .big-number {
        color: #33D47F;
      }
    }
  }
}
