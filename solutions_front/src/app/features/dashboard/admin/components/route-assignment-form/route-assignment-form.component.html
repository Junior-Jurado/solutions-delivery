<form class="route-form" (ngSubmit)="onSubmit()">
  <!-- Delivery Person Select -->
  <div class="form-group">
    <label for="deliveryPerson">Entregador</label>
    <select
      id="deliveryPerson"
      [(ngModel)]="selectedDeliveryPerson"
      name="deliveryPerson">
      <option value="" disabled>Seleccionar entregador</option>
      <option *ngFor="let person of deliveryPersons" [value]="person.id">
        {{ person.name }}
      </option>
    </select>
  </div>

  <!-- Available Packages -->
  <div class="form-group">
    <label>Paquetes a asignar ({{ availablePackages.length }} disponibles)</label>

    <!-- Empty State for Packages -->
    <div *ngIf="availablePackages.length === 0" class="empty-packages">
      <div class="empty-icon">
        <app-icon category="delivery" name="package" size="32px"></app-icon>
      </div>
      <p class="empty-text">No hay paquetes pendientes de asignar</p>
      <p class="empty-hint">Los paquetes aparecerán aquí cuando haya guías listas para entrega</p>
    </div>

    <!-- Packages List -->
    <div *ngIf="availablePackages.length > 0" class="packages-list">
      <div
        *ngFor="let pkg of availablePackages"
        class="package-item"
        (click)="togglePackage(pkg)">
        <input
          type="checkbox"
          [id]="'package-' + pkg.id"
          [checked]="pkg.selected"
          (change)="togglePackage(pkg)">
        <label [for]="'package-' + pkg.id">
          {{ pkg.id }} - {{ pkg.address }}
        </label>
      </div>
    </div>
  </div>

  <!-- Priority Select -->
  <div class="form-group">
    <label for="priority">Prioridad</label>
    <select
      id="priority"
      [(ngModel)]="selectedPriority"
      name="priority">
      <option value="" disabled>Seleccionar prioridad</option>
      <option *ngFor="let priority of priorities" [value]="priority.value">
        {{ priority.label }}
      </option>
    </select>
  </div>

  <!-- Submit Button -->
  <button
    type="submit"
    class="submit-button"
    [disabled]="!selectedDeliveryPerson || availablePackages.length === 0">
    Asignar Ruta
  </button>
</form>
