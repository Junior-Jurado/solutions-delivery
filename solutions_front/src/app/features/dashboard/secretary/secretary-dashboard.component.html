<div class="secretary-panel">
  <!-- Tabs Navigation -->
  <div class="tabs-navigation">
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'create-guide'"
      (click)="setActiveTab('create-guide')">
      <span class="icon">â•</span>
      Nueva GuÃ­a
    </button>
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'manage-guides'"
      (click)="setActiveTab('manage-guides')">
      <span class="icon">ğŸ“„</span>
      Gestionar GuÃ­as
    </button>
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'search'"
      (click)="setActiveTab('search')">
      <span class="icon">ğŸ”</span>
      Buscar/Rastrear
    </button>
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'reports'"
      (click)="setActiveTab('reports')">
      <span class="icon">ğŸ“Š</span>
      Reportes
    </button>
  </div>

  <!-- Create Guide Tab -->
  <div class="tab-content" *ngIf="activeTab === 'create-guide'">
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">
          <span class="icon">ğŸ“¦</span>
          Nueva GuÃ­a de EnvÃ­o
        </h2>
        <p class="card-description">Crear una nueva guÃ­a para envÃ­o de paquetes</p>
      </div>
      <div class="card-content">
        <form [formGroup]="guideForm" (ngSubmit)="handleCreateGuide()" class="guide-form">
          <div class="form-grid">
            <!-- Remitente -->
            <div class="form-section">
              <div class="section-header">
                <span class="icon">ğŸ‘¤</span>
                <h3>InformaciÃ³n del Remitente</h3>
              </div>
              <div class="form-row">
                <div class="form-field">
                  <label for="senderName">Nombre completo *</label>
                  <input id="senderName" type="text" formControlName="senderName" placeholder="Juan PÃ©rez">
                </div>
                <div class="form-field">
                  <label for="senderDoc">Documento</label>
                  <input id="senderDoc" type="text" formControlName="senderDoc" placeholder="12345678">
                </div>
              </div>
              <div class="form-row">
                <div class="form-field">
                  <label for="senderPhone">TelÃ©fono *</label>
                  <input id="senderPhone" type="tel" formControlName="senderPhone" placeholder="300 123 4567">
                </div>
                <div class="form-field">
                  <label for="senderEmail">Email</label>
                  <input id="senderEmail" type="email" formControlName="senderEmail" placeholder="juan@email.com">
                </div>
              </div>
              <div class="form-field">
                <label for="senderAddress">DirecciÃ³n completa *</label>
                <textarea id="senderAddress" formControlName="senderAddress" 
                  placeholder="Calle 123 #45-67, Barrio, Ciudad, Departamento"></textarea>
              </div>
              <div class="form-field">
                <label for="senderCity">Ciudad *</label>
                <select id="senderCity" formControlName="senderCity">
                  <option value="">Seleccionar ciudad</option>
                  <option *ngFor="let city of cities" [value]="city">{{city}}</option>
                </select>
              </div>
            </div>

            <!-- Destinatario -->
            <div class="form-section">
              <div class="section-header destination">
                <span class="icon">ğŸ“</span>
                <h3>InformaciÃ³n del Destinatario</h3>
              </div>
              <div class="form-row">
                <div class="form-field">
                  <label for="receiverName">Nombre completo *</label>
                  <input id="receiverName" type="text" formControlName="receiverName" placeholder="MarÃ­a GonzÃ¡lez">
                </div>
                <div class="form-field">
                  <label for="receiverDoc">Documento</label>
                  <input id="receiverDoc" type="text" formControlName="receiverDoc" placeholder="87654321">
                </div>
              </div>
              <div class="form-row">
                <div class="form-field">
                  <label for="receiverPhone">TelÃ©fono *</label>
                  <input id="receiverPhone" type="tel" formControlName="receiverPhone" placeholder="300 987 6543">
                </div>
                <div class="form-field">
                  <label for="receiverEmail">Email</label>
                  <input id="receiverEmail" type="email" formControlName="receiverEmail" placeholder="maria@email.com">
                </div>
              </div>
              <div class="form-field">
                <label for="receiverAddress">DirecciÃ³n completa *</label>
                <textarea id="receiverAddress" formControlName="receiverAddress" 
                  placeholder="Carrera 89 #12-34, Barrio, Ciudad, Departamento"></textarea>
              </div>
              <div class="form-field">
                <label for="receiverCity">Ciudad destino *</label>
                <select id="receiverCity" formControlName="receiverCity">
                  <option value="">Seleccionar ciudad</option>
                  <option *ngFor="let city of cities" [value]="city">{{city}}</option>
                </select>
              </div>
            </div>
          </div>

          <!-- InformaciÃ³n del Paquete -->
          <div class="form-section full-width">
            <div class="section-header">
              <span class="icon">ğŸ“¦</span>
              <h3>InformaciÃ³n del Paquete</h3>
            </div>
            <div class="form-row four-cols">
              <div class="form-field">
                <label for="serviceType">Tipo de servicio *</label>
                <select id="serviceType" formControlName="serviceType">
                  <option value="">Seleccionar</option>
                  <option *ngFor="let type of serviceTypes" [value]="type">{{type}}</option>
                </select>
              </div>
              <div class="form-field">
                <label for="weight">Peso (kg) *</label>
                <input id="weight" type="number" step="0.1" formControlName="weight" placeholder="1.5">
              </div>
              <div class="form-field">
                <label for="declaredValue">Valor declarado *</label>
                <input id="declaredValue" type="text" formControlName="declaredValue" placeholder="50000">
              </div>
              <div class="form-field">
                <label for="pieces">NÃºmero de piezas</label>
                <input id="pieces" type="number" formControlName="pieces">
              </div>
            </div>
            <div class="form-row three-cols">
              <div class="form-field">
                <label for="dimensions">Dimensiones (cm)</label>
                <input id="dimensions" type="text" formControlName="dimensions" placeholder="20x15x10">
              </div>
              <div class="form-field">
                <label for="priority">Prioridad</label>
                <select id="priority" formControlName="priority">
                  <option *ngFor="let priority of priorities" [value]="priority.toLowerCase()">{{priority}}</option>
                </select>
              </div>
              <div class="form-field">
                <label for="insurance">Seguro adicional</label>
                <select id="insurance" formControlName="insurance">
                  <option *ngFor="let option of insuranceOptions" [value]="option.toLowerCase()">{{option}}</option>
                </select>
              </div>
            </div>
            <div class="form-field">
              <label for="content">DescripciÃ³n del contenido</label>
              <textarea id="content" formControlName="content" 
                placeholder="DescripciÃ³n detallada del contenido del paquete"></textarea>
            </div>
            <div class="form-field">
              <label for="observations">Observaciones especiales</label>
              <textarea id="observations" formControlName="observations" 
                placeholder="Instrucciones especiales para la entrega"></textarea>
            </div>
          </div>

          <button type="submit" class="btn btn-primary btn-large" [disabled]="!guideForm.valid">
            Crear GuÃ­a de EnvÃ­o
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- Manage Guides Tab -->
  <div class="tab-content" *ngIf="activeTab === 'manage-guides'">
    <div class="card mb-6">
      <div class="card-header">
        <h2 class="card-title">Filtros de BÃºsqueda</h2>
      </div>
      <div class="card-content">
        <div class="filters-grid">
          <select>
            <option value="all">Estado - Todos</option>
            <option value="pending">Pendiente</option>
            <option value="in-office">En oficina</option>
            <option value="in-transit">En trÃ¡nsito</option>
            <option value="delivered">Entregado</option>
          </select>
          <select>
            <option value="all">Ciudad - Todas</option>
            <option *ngFor="let city of cities" [value]="city.toLowerCase()">{{city}}</option>
          </select>
          <input type="text" placeholder="Buscar por guÃ­a...">
          <button class="btn btn-primary">Filtrar</button>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <h2 class="card-title">GestiÃ³n de GuÃ­as</h2>
        <p class="card-description">Actualizar estado de guÃ­as existentes</p>
      </div>
      <div class="card-content">
        <div class="guides-list">
          <div *ngFor="let guide of guides" class="guide-item">
            <div class="guide-header">
              <div>
                <div class="guide-id">{{guide.id}}</div>
                <div class="guide-date">Creada: {{guide.created}}</div>
              </div>
              <span class="badge" [ngClass]="getStatusBadgeClass(guide.status)">
                {{guide.status}}
              </span>
            </div>
            
            <div class="guide-details">
              <div class="detail-item">
                <div class="detail-label">Remitente:</div>
                <div class="detail-value">{{guide.sender}}</div>
              </div>
              <div class="detail-item">
                <div class="detail-label">Destinatario:</div>
                <div class="detail-value">{{guide.receiver}}</div>
              </div>
              <div class="detail-item">
                <div class="detail-label">Destino:</div>
                <div class="detail-value">{{guide.destination}}</div>
              </div>
              <div class="detail-item">
                <div class="detail-label">Valor:</div>
                <div class="detail-value">{{guide.value}}</div>
              </div>
            </div>
            
            <div class="guide-actions">
              <select class="status-select" (change)="handleUpdateStatus(guide.id, $any($event.target).value)">
                <option value="">Cambiar estado</option>
                <option *ngFor="let status of statuses" [value]="status.toLowerCase()">{{status}}</option>
              </select>
              <button class="btn btn-outline" (click)="editGuide(guide.id)">
                <span class="icon">âœï¸</span>
                Editar
              </button>
              <button class="btn btn-outline" (click)="viewDetails(guide.id)">
                Ver Detalles
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Search Tab -->
  <div class="tab-content" *ngIf="activeTab === 'search'">
    <div class="card mb-6">
      <div class="card-header">
        <h2 class="card-title">
          <span class="icon">ğŸ”</span>
          Buscar y Rastrear EnvÃ­os
        </h2>
        <p class="card-description">Busca guÃ­as por nÃºmero, cliente o destino</p>
      </div>
      <div class="card-content">
        <form (ngSubmit)="handleSearchTracking()" class="search-form">
          <input 
            type="text" 
            placeholder="NÃºmero de guÃ­a, nombre del cliente o ciudad..." 
            [(ngModel)]="trackingSearch"
            name="trackingSearch"
            class="search-input">
          <button type="submit" class="btn btn-primary">Buscar</button>
        </form>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <h2 class="card-title">Resultados de BÃºsqueda</h2>
      </div>
      <div class="card-content">
        <div class="search-result delivered">
          <div class="result-header">
            <div class="result-id">EE123456789</div>
            <span class="badge badge-success">Entregado</span>
          </div>
          <div class="result-details">
            <div><strong>Remitente:</strong> Juan PÃ©rez</div>
            <div><strong>Destinatario:</strong> MarÃ­a GonzÃ¡lez</div>
            <div><strong>Origen:</strong> BogotÃ¡</div>
            <div><strong>Destino:</strong> MedellÃ­n</div>
          </div>
          <div class="result-history">
            <div class="history-title">Historial de estados:</div>
            <div class="history-items">
              <div>âœ… Entregado - Hoy 14:30</div>
              <div>ğŸš› En reparto - Hoy 09:00</div>
              <div>ğŸ“¦ En trÃ¡nsito - Ayer 18:30</div>
              <div>ğŸ¢ En oficina - Ayer 10:00</div>
              <div>ğŸ“ Creado - Ayer 09:30</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Reports Tab -->
  <div class="tab-content" *ngIf="activeTab === 'reports'">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-header">
          <span class="icon">ğŸ“„</span>
          <h3>GuÃ­as Hoy</h3>
        </div>
        <div class="stat-value primary">24</div>
        <div class="stat-label">+18% vs ayer</div>
      </div>
      <div class="stat-card">
        <div class="stat-header">
          <span class="icon">âœ…</span>
          <h3>Procesadas</h3>
        </div>
        <div class="stat-value success">20</div>
        <div class="stat-label">83% completado</div>
      </div>
      <div class="stat-card">
        <div class="stat-header">
          <span class="icon">â°</span>
          <h3>Pendientes</h3>
        </div>
        <div class="stat-value warning">4</div>
        <div class="stat-label">Requieren atenciÃ³n</div>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <h2 class="card-title">Rendimiento de la Semana</h2>
        <p class="card-description">GuÃ­as creadas y procesadas por dÃ­a</p>
      </div>
      <div class="card-content">
        <div class="performance-list">
          <div *ngFor="let stat of dailyStats" class="performance-item">
            <div class="performance-day">{{stat.day}}</div>
            <div class="performance-stats">
              <div>
                <span class="stat-number primary">{{stat.created}}</span>
                <span class="stat-text">creadas</span>
              </div>
              <div>
                <span class="stat-number success">{{stat.processed}}</span>
                <span class="stat-text">procesadas</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>